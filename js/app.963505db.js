(function(){"use strict";var t={1151:function(t,e,a){var r=a(6369),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("IndexPage")],1)},n=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("input",{attrs:{id:"price",type:"text",placeholder:"цена"},domProps:{value:t.getPrice},on:{input:e=>t.setParams("price",e.target.value)}}),e("input",{attrs:{id:"quantity",type:"text",placeholder:"кол-во"},domProps:{value:t.getQuantity},on:{input:e=>t.setParams("quantity",e.target.value)}}),e("input",{attrs:{id:"amount",type:"text",placeholder:"сумма"},domProps:{value:t.getAmount},on:{input:e=>t.setParams("amount",e.target.value)}}),e("button",{attrs:{type:"click"},on:{click:function(e){return e.preventDefault(),t.send.apply(null,arguments)}}},[t._v("Отправить")]),e("br"),e("label",{attrs:{for:"price"}},[t._v(t._s(`Цена: ${t.getPrice}`))]),e("label",{attrs:{for:"quantity"}},[t._v(t._s(`Кол-во: ${t.getQuantity}`))]),e("label",{attrs:{for:"amount"}},[t._v(t._s(`Сумма: ${t.getAmount}`))]),e("label",{attrs:{for:""}},[t._v(t._s(`localStorage : ${t.getLocalStorageParams}`))]),e("hr"),e("div",{staticClass:"list"},t._l(t.getHistory,(function(a,r){return e("div",{key:r},[e("br"),t._v(" "+t._s(JSON.stringify(a))+" ")])})),0)])},s=[],u={name:"IndexPage",props:{msg:String},data(){return{price:0,quantity:0,amount:0,nonce:0,localStorageParams:{},history:[],timeoutID:null,timeWait:300}},computed:{getPrice(){return this.$store.state.price},getQuantity(){return this.$store.state.quantity},getAmount(){return this.$store.state.amount},getNonce(){return this.$store.state.nonce},getParams(){return{price:this.getPrice,quantity:this.getQuantity,amount:this.getAmount,nonce:this.nonce}},getLocalStorageParams(){return JSON.stringify(this.$store.state.localStorageParams)},getHistory(){return this.$store.state.history}},methods:{setParams(t,e){this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((()=>{this.setHistory({[t]:e}),this.$store.commit("updateInputParams",{key:t,value:e})}),this.timeWait)},extractLocalStorageParams(){this.$store.commit("extractLocalStorageParams")},setlocalStorageParams(t,e){localStorage.setItem(t,e)},clearlocalStorageParams(){delete localStorage.price,delete localStorage.quantity,delete localStorage.amount,delete localStorage.nonce},getRandomInt(t){return Math.floor(Math.random()*t)},getRandomIntRange(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},reqFormParams(){return this.$store.dispatch("reqFormParams")},setHistory(t){this.$store.commit("updateHistory",t)},async send(){if(this.getAmount%2!==0)return;this.nonce=this.getRandomIntRange(this.nonce,this.nonce+50),this.setHistory({data:this.getParams,storage:JSON.parse(this.getLocalStorageParams)});const t=await this.reqFormParams();if(t&&t.success){const t=Object.entries(this.getParams);t.forEach((([t,e])=>{this.setlocalStorageParams(t,e)}))}this.extractLocalStorageParams(),this.setHistory({response:t,storage:JSON.parse(this.getLocalStorageParams)})}},mounted(){this.clearlocalStorageParams()}},c=u,l=a(1001),m=(0,l.Z)(c,i,s,!1,null,"65afb8c6",null),g=m.exports,p={name:"App",components:{IndexPage:g}},h=p,f=(0,l.Z)(h,o,n,!1,null,null,null),y=f.exports,d=a(3822);r.ZP.use(d.ZP);var P=new d.ZP.Store({state:{price:0,quantity:0,amount:0,localStorageParams:{},history:[]},mutations:{updateInputParams(t,{key:e,value:a}){t[e]=a,!+t.price&&+t.quantity&&+t.amount?t.price=+t.amount/+t.quantity:+t.price&&!+t.quantity&&+t.amount?t.quantity=+t.amount/+t.price:+t.price&&+t.quantity&&!+t.amount?t.amount=+t.quantity*+t.price:+t.price&&+t.quantity&&+t.amount&&("amount"===e&&(t.price=+t.amount/+t.quantity),"price"===e&&(t.amount=+t.quantity*+t.price),"quantity"===e&&(t.amount=+t.quantity*+t.price))},updateLocalStorageParams(t,e){t.localStorageParams=e},updateHistory(t,e){t.history.unshift(e)},extractLocalStorageParams(t){const e={price:localStorage.getItem("price")||0,quantity:localStorage.getItem("quantity")||0,amount:localStorage.getItem("amount")||0,nonce:localStorage.getItem("nonce")||0};t.localStorageParams=e}},actions:{reqFormParams(){return new Promise((t=>{const e=Math.floor(2*Math.random()),a=1e3,r={success:1===e};setTimeout((()=>t(r)),a)}))}}});new r.ZP({render:t=>t(y),store:P}).$mount("#app")}},e={};function a(r){var o=e[r];if(void 0!==o)return o.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,r,o,n){if(!r){var i=1/0;for(l=0;l<t.length;l++){r=t[l][0],o=t[l][1],n=t[l][2];for(var s=!0,u=0;u<r.length;u++)(!1&n||i>=n)&&Object.keys(a.O).every((function(t){return a.O[t](r[u])}))?r.splice(u--,1):(s=!1,n<i&&(i=n));if(s){t.splice(l--,1);var c=o();void 0!==c&&(e=c)}}return e}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[r,o,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,n,i=r[0],s=r[1],u=r[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(u)var l=u(a)}for(e&&e(r);c<i.length;c++)n=i[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(l)},r=self["webpackChunkform_task"]=self["webpackChunkform_task"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(1151)}));r=a.O(r)})();
//# sourceMappingURL=app.963505db.js.map